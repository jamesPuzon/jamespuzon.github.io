<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">About James - James Puzon</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="top-banner">
        <div class="banner-left">
            <img src="images/profile-formal.jpg" alt="James Puzon" class="banner-profile-img">
            <h1 id="header-name">About James</h1>
        </div>
        <div class="menu-icon" id="menu-toggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <header>
        <h1 id="header-name-fallback">About James</h1>
    </header>

    <nav id="main-nav">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About James</a></li>
            <li><a href="portfolio.html">Portfolio</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>

    <div class="container" id="about-container">
        <!-- Content will be dynamically loaded from content.json -->
        <section class="content-section">
            <h2>Education</h2>
            <p>
                This section highlights my educational background and academic achievements. 
                My educational journey has provided me with a strong foundation in my field and 
                equipped me with the knowledge and skills necessary to excel in my career.
            </p>
            <ul>
                <li>Details about university or college attended</li>
                <li>Degree(s) earned and major(s)</li>
                <li>Relevant coursework and academic projects</li>
                <li>Academic honors and achievements</li>
            </ul>
        </section>

        <section class="content-section">
            <h2>Experience</h2>
            <p>
                Throughout my professional career, I have gained valuable experience working on diverse projects 
                and collaborating with talented teams. This section showcases my work history and the skills 
                I've developed along the way.
            </p>
            <ul>
                <li>Current and previous positions held</li>
                <li>Key responsibilities and achievements</li>
                <li>Technical skills and competencies</li>
                <li>Notable projects and contributions</li>
            </ul>
        </section>

        <section class="content-section">
            <h2>Leadership/Community Engagement</h2>
            <p>
                I believe in giving back to the community and taking on leadership roles that create positive change. 
                This section highlights my involvement in community initiatives, volunteer work, and leadership positions 
                that have shaped my perspective and values.
            </p>
            <ul>
                <li>Leadership positions and roles</li>
                <li>Community service and volunteer activities</li>
                <li>Mentorship and teaching experiences</li>
                <li>Organizations and causes supported</li>
            </ul>
        </section>
    </div>

    <footer>
        <p>&copy; 2024 James Puzon. All rights reserved.</p>
    </footer>

    <script src="navigation.js"></script>
    <script>
        // Load content from JSON file
        fetch('content.json')
            .then(response => response.json())
            .then(data => {
                // Update page title
                const firstName = data.header.name ? data.header.name.split(' ')[0] : 'James';
                document.getElementById('page-title').textContent = `About ${firstName} - ${data.header.name}`;
                
                // Update header
                document.getElementById('header-name').textContent = `About ${firstName}`;
                document.getElementById('header-name-fallback').textContent = `About ${firstName}`;
                
                // Clear existing content
                const container = document.getElementById('about-container');
                container.innerHTML = '';
                
                // Track alternation counter for left/right positioning
                let alternationCounter = 0;
                
                // Helper function to create regular subsections with alternating layout
                function createRegularSubsection(subsection, counter) {
                    const subsectionElement = document.createElement('div');
                    subsectionElement.className = 'subsection';
                    
                    const hasImage = subsection.image && subsection.image.trim() !== '';
                    
                    if (hasImage) {
                        // Apply alternating layout class
                        subsectionElement.classList.add(counter % 2 === 0 ? 'content-section-left' : 'content-section-right');
                        
                        // Create image container
                        const imageContainer = document.createElement('div');
                        imageContainer.className = 'image-container';
                        
                        const img = document.createElement('img');
                        img.src = subsection.image;
                        img.alt = subsection.title;
                        img.className = 'section-image';
                        img.onerror = function() {
                            this.parentElement.style.display = 'none';
                        };
                        imageContainer.appendChild(img);
                        subsectionElement.appendChild(imageContainer);
                        
                        // Create content container
                        const contentContainer = document.createElement('div');
                        contentContainer.className = 'content-container';
                        
                        // Add subsection title
                        const subTitle = document.createElement('h3');
                        subTitle.textContent = subsection.title;
                        contentContainer.appendChild(subTitle);
                        
                        // Add subsection content
                        if (subsection.content) {
                            const subContent = document.createElement('p');
                            subContent.textContent = subsection.content;
                            contentContainer.appendChild(subContent);
                        }
                        
                        // Add subsection details if provided
                        if (subsection.details && subsection.details.length > 0) {
                            const subUl = document.createElement('ul');
                            subsection.details.forEach(detail => {
                                const li = document.createElement('li');
                                li.textContent = detail;
                                subUl.appendChild(li);
                            });
                            contentContainer.appendChild(subUl);
                        }
                        
                        subsectionElement.appendChild(contentContainer);
                    } else {
                        // No image, use traditional layout
                        // Add subsection title
                        const subTitle = document.createElement('h3');
                        subTitle.textContent = subsection.title;
                        subsectionElement.appendChild(subTitle);
                        
                        // Add subsection content
                        if (subsection.content) {
                            const subContent = document.createElement('p');
                            subContent.textContent = subsection.content;
                            subsectionElement.appendChild(subContent);
                        }
                        
                        // Add subsection details if provided
                        if (subsection.details && subsection.details.length > 0) {
                            const subUl = document.createElement('ul');
                            subsection.details.forEach(detail => {
                                const li = document.createElement('li');
                                li.textContent = detail;
                                subUl.appendChild(li);
                            });
                            subsectionElement.appendChild(subUl);
                        }
                    }
                    
                    return subsectionElement;
                }
                
                // Load about sections
                data.about.sections.forEach(section => {
                    const sectionElement = document.createElement('section');
                    sectionElement.className = 'content-section';
                    
                    // Check if this is the "About Me" section
                    const isAboutMe = section.title.toLowerCase() === 'about me';
                    if (isAboutMe) {
                        sectionElement.classList.add('about-me-section');
                    }
                    
                    // Check if section has image to apply alternating layout
                    const hasImage = section.image && section.image.trim() !== '';
                    
                    if (hasImage) {
                        // For About Me, always use left layout; otherwise alternate
                        if (isAboutMe) {
                            sectionElement.classList.add('content-section-left');
                        } else {
                            sectionElement.classList.add(alternationCounter % 2 === 0 ? 'content-section-left' : 'content-section-right');
                        }
                        alternationCounter++;
                        
                        // Create image container
                        const imageContainer = document.createElement('div');
                        imageContainer.className = 'image-container';
                        
                        const img = document.createElement('img');
                        // Prepend 'images/' if not already included
                        img.src = section.image.startsWith('images/') ? section.image : `images/${section.image}`;
                        img.alt = section.title;
                        img.className = 'section-image';
                        img.onerror = function() {
                            this.parentElement.style.display = 'none';
                        };
                        imageContainer.appendChild(img);
                        sectionElement.appendChild(imageContainer);
                        
                        // Create content container
                        const contentContainer = document.createElement('div');
                        contentContainer.className = 'content-container';
                        
                        // Add title
                        const title = document.createElement('h2');
                        title.textContent = section.title;
                        contentContainer.appendChild(title);
                        
                        // Add content
                        const content = document.createElement('p');
                        content.textContent = section.content;
                        contentContainer.appendChild(content);
                        
                        // Add details list if provided
                        if (section.details && section.details.length > 0) {
                            const ul = document.createElement('ul');
                            section.details.forEach(detail => {
                                const li = document.createElement('li');
                                li.textContent = detail;
                                ul.appendChild(li);
                            });
                            contentContainer.appendChild(ul);
                        }
                        
                        sectionElement.appendChild(contentContainer);
                    } else {
                        // No image, use traditional layout
                        // Add title
                        const title = document.createElement('h2');
                        title.textContent = section.title;
                        sectionElement.appendChild(title);
                        
                        // Add content
                        const content = document.createElement('p');
                        content.textContent = section.content;
                        sectionElement.appendChild(content);
                        
                        // Add details list if provided
                        if (section.details && section.details.length > 0) {
                            const ul = document.createElement('ul');
                            section.details.forEach(detail => {
                                const li = document.createElement('li');
                                li.textContent = detail;
                                ul.appendChild(li);
                            });
                            sectionElement.appendChild(ul);
                        }
                    }
                    
                    // Handle subsections
                    if (section.subsections && section.subsections.length > 0) {
                        // Check for special grid layout (Intramurals and Other Clubs)
                        const hasIntramuralsAndClubs = section.subsections.some(s => s.title === 'Intramurals') && 
                                                        section.subsections.some(s => s.title === 'Other Clubs');
                        
                        if (hasIntramuralsAndClubs) {
                            // Create special grid container for Intramurals and Other Clubs
                            const gridContainer = document.createElement('div');
                            gridContainer.className = 'subsection-grid';
                            
                            section.subsections.forEach(subsection => {
                                if (subsection.title === 'Intramurals' || subsection.title === 'Other Clubs') {
                                    const subsectionElement = document.createElement('div');
                                    subsectionElement.className = 'subsection';
                                    
                                    // Add subsection title
                                    const subTitle = document.createElement('h3');
                                    subTitle.textContent = subsection.title;
                                    subsectionElement.appendChild(subTitle);
                                    
                                    // Handle items array with individual images
                                    if (subsection.items && subsection.items.length > 0) {
                                        const itemsGrid = document.createElement('div');
                                        itemsGrid.className = 'items-grid';
                                        
                                        subsection.items.forEach(item => {
                                            const itemElement = document.createElement('div');
                                            itemElement.className = 'item';
                                            
                                            // Add item text
                                            const itemText = document.createElement('div');
                                            itemText.className = 'item-text';
                                            itemText.textContent = item.text;
                                            itemElement.appendChild(itemText);
                                            
                                            // Add item image if provided
                                            if (item.image && item.image.trim() !== '') {
                                                const img = document.createElement('img');
                                                img.src = item.image;
                                                img.alt = item.text;
                                                img.className = 'item-image';
                                                img.onerror = function() {
                                                    this.style.display = 'none';
                                                };
                                                itemElement.appendChild(img);
                                            }
                                            
                                            itemsGrid.appendChild(itemElement);
                                        });
                                        
                                        subsectionElement.appendChild(itemsGrid);
                                    }
                                    // Fallback to old details format if items doesn't exist
                                    else if (subsection.details && subsection.details.length > 0) {
                                        const subUl = document.createElement('ul');
                                        subsection.details.forEach(detail => {
                                            const li = document.createElement('li');
                                            li.textContent = detail;
                                            subUl.appendChild(li);
                                        });
                                        subsectionElement.appendChild(subUl);
                                    }
                                    
                                    // Add subsection content if provided
                                    if (subsection.content) {
                                        const subContent = document.createElement('p');
                                        subContent.textContent = subsection.content;
                                        subsectionElement.appendChild(subContent);
                                    }
                                    
                                    gridContainer.appendChild(subsectionElement);
                                } else {
                                    // Regular subsection (not in grid)
                                    const subsectionElement = createRegularSubsection(subsection, alternationCounter);
                                    if (subsectionElement.classList.contains('content-section-left') || 
                                        subsectionElement.classList.contains('content-section-right')) {
                                        alternationCounter++;
                                    }
                                    if (hasImage) {
                                        // If parent section has image, append to content container
                                        sectionElement.querySelector('.content-container').appendChild(subsectionElement);
                                    } else {
                                        sectionElement.appendChild(subsectionElement);
                                    }
                                }
                            });
                            
                            // Append grid container to section
                            if (hasImage) {
                                sectionElement.querySelector('.content-container').appendChild(gridContainer);
                            } else {
                                sectionElement.appendChild(gridContainer);
                            }
                        } else {
                            // Regular subsections with alternating layout
                            section.subsections.forEach(subsection => {
                                const subsectionElement = createRegularSubsection(subsection, alternationCounter);
                                if (subsectionElement.classList.contains('content-section-left') || 
                                    subsectionElement.classList.contains('content-section-right')) {
                                    alternationCounter++;
                                }
                                if (hasImage) {
                                    // If parent section has image, append to content container
                                    sectionElement.querySelector('.content-container').appendChild(subsectionElement);
                                } else {
                                    sectionElement.appendChild(subsectionElement);
                                }
                            });
                        }
                    }
                    
                    container.appendChild(sectionElement);
                });
            })
            .catch(error => {
                console.error('Error loading content:', error);
                // Fallback to default content (already in HTML)
            });
    </script>
</body>
</html>
